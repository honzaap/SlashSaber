import{v as g,aZ as _,a2 as B,a8 as d,l as i,m as u,ba as p,k as L,F as f,ae as S,bd as m,b7 as w}from"./runtime-core.esm-bundler.42c6fcfe.js";const x=(e,c)=>{const a=e.__vccOpts||e;for(const[s,l]of c)a[s]=l;return a},h="https://ivj6suabnxk5izibdy4uyp5pni0mraue.lambda-url.eu-central-1.on.aws/";async function v(){try{return await(await fetch(h,{method:"GET"})).json()}catch{return[]}}async function k(e,c){await fetch(h,{method:"POST",body:JSON.stringify({username:e.username.substring(0,16),score:c,settings:e})})}function O(e){return Math.floor(e).toLocaleString("en-US")}const j={key:0,class:"loader"},N={class:"number"},R={class:"name"},T={class:"score"},z=g({__name:"LeaderBoard",props:["compact"],setup(e,{expose:c}){const a=e,s=_([]),l=_(!0);B(async()=>{const n=await v();n.length!==0&&(s.value=n,l.value=!1,setInterval(async()=>{const t=await v();t.length!==0&&(s.value=t)},(a.compact?3:6)*60*1e3))});function b(n,t){const r=s.value.find(o=>o.username===n.username);r&&r.score<t?r.score=t:r||s.value.push({username:n.username,score:t}),s.value.sort((o,y)=>y.score-o.score),s.value.splice(20),k(n,t)}return c({submitNewRun:b}),(n,t)=>(d(),i(f,null,[u("h2",{class:p({compact:a.compact})},"Top slashers",2),l.value?(d(),i("span",j)):L("",!0),u("div",{class:p(["leaderboard",{compact:a.compact}])},[(d(!0),i(f,null,S(s.value,(r,o)=>(d(),i("div",{class:p(["leaderboard-item",{first:o===0&&!a.compact,second:o===1&&!a.compact,third:o===2&&!a.compact}])},[u("span",N,m(o+1)+".",1),u("span",R,m(r.username),1),u("span",T,m(w(O)(r.score))+" pts",1)],2))),256))],2)],64))}});const C=x(z,[["__scopeId","data-v-6b5d6469"]]),E=Object.freeze(Object.defineProperty({__proto__:null,default:C},Symbol.toStringTag,{value:"Module"}));export{C as L,x as _,E as a,O as p};
