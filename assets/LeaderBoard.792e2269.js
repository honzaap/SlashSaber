import{v as B,aZ as _,a2 as L,a8 as d,l as p,m as u,ba as i,k as g,F as f,ae as S,bd as m,b7 as w}from"./runtime-core.esm-bundler.42c6fcfe.js";const x=(e,c)=>{const a=e.__vccOpts||e;for(const[s,l]of c)a[s]=l;return a},h="https://ivj6suabnxk5izibdy4uyp5pni0mraue.lambda-url.eu-central-1.on.aws/";async function v(){try{return await(await fetch(h,{method:"GET"})).json()}catch{return[]}}async function k(e,c){await fetch(h,{method:"POST",body:JSON.stringify({username:e.username.substring(0,16),score:c,settings:e})})}function O(e){return Math.floor(e).toLocaleString("en-US")}const j={key:0,class:"loader"},N={class:"number"},R={class:"name"},T={class:"score"},z=B({__name:"LeaderBoard",props:["compact"],setup(e,{expose:c}){const a=e,s=_([]),l=_(!0);L(async()=>{const t=await v();t.length!==0&&(s.value=t,l.value=!1,setInterval(async()=>{const o=await v();o.length!==0&&(s.value=o)},(a.compact?3:6)*60*1e3))});function y(t,o){const n=s.value.find(r=>r.username===t.username);n&&n.score<o?n.score=o:!n&&t.username&&s.value.push({username:t.username,score:o}),s.value.sort((r,b)=>b.score-r.score),s.value.splice(20),k(t,o)}return c({submitNewRun:y}),(t,o)=>(d(),p(f,null,[u("h2",{class:i({compact:a.compact})},"Top slashers",2),l.value?(d(),p("span",j)):g("",!0),u("div",{class:i(["leaderboard",{compact:a.compact}])},[(d(!0),p(f,null,S(s.value,(n,r)=>(d(),p("div",{class:i(["leaderboard-item",{first:r===0&&!a.compact,second:r===1&&!a.compact,third:r===2&&!a.compact}])},[u("span",N,m(r+1)+".",1),u("span",R,m(n.username),1),u("span",T,m(w(O)(n.score))+" pts",1)],2))),256))],2)],64))}});const C=x(z,[["__scopeId","data-v-55764208"]]),E=Object.freeze(Object.defineProperty({__proto__:null,default:C},Symbol.toStringTag,{value:"Module"}));export{C as L,x as _,E as a,O as p};
